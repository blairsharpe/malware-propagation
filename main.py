from Graph import Graph

if __name__ == "__main__":

    inp1 = """10
    A 1000 1
    B 1000 0
    C 1000 3
    D 1000 0
    E 1000 0
    F 1000 1
    G 1000 10
    H 1000 0
    I 1000 0
    J 1000 90
    10
    A B 10000
    B C 1000
    C D 2000
    D E 2000
    D F 2000
    D G 5000
    D H 9000
    D I 1000
    D H 8000
    D J 10000
    0.01 0.01 0.015
    256"""

    inp1 = inp1.split("\n")

    # Find the rates of: S->I, I->R, S->R
    rate_info = tuple(inp1[-2].split())

    # Packet size of the malware
    malware_size = inp1[-1]

    # Init the graph object with the rate info and malware size
    g = Graph(*rate_info, malware_size)

    # Find the number of networks or nodes that will be in the graph
    num_networks = int(inp1[0])

    # Obtain the nodes and add them to our graph
    for host in range(1, num_networks+1):

        host_name, num_hosts, infected = inp1[host].split()

        g.add_vertex(host_name, int(num_hosts), int(infected))

    # Obtain the connections and their weights (bandwidth) and add to graph
    num_connections = int(inp1[num_networks+1])

    # Obtain the bandwidth and connections in the network and add them as edges
    for connection in range(2, num_connections):

        end_point_A, end_point_B, bandwidth = \
        (inp1[num_networks+connection].split())

        g.add_edge(end_point_A, end_point_B, int(bandwidth))
