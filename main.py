from Graph import Graph
from Population import Population

if __name__ == "__main__":

    inp1 = """10
    A 1000 1
    B 1000 0
    C 1000 3
    D 1000 0
    E 1000 0
    F 1000 1
    G 1000 10
    H 1000 0
    I 1000 0
    J 1000 90
    10
    A B 10000
    B C 1000
    C D 2000
    D E 2000
    D F 2000
    D G 5000
    D H 9000
    D I 1000
    D H 8000
    D J 10000
    0.01 0.01 0.015
    256"""

    g = Graph()

    inp1 = inp1.split("\n")
    num_networks = int(inp1[0])
    # Obtain the vertices and add them to our graph
    for host in range(1, num_networks+1):
        host_name, num_hosts, infected = inp1[host].split()
        g.add_vertex(host_name, int(num_hosts), int(infected))

    # Obtain the connections and their weights (bandwidth) and add to graph
    num_connections = int(inp1[num_networks+1])
    for connection in range(2, num_connections):
        end_point_A, end_point_B, bandwidth = \
        (inp1[num_networks+connection].split())
        g.add_edge(end_point_A, end_point_B, int(bandwidth))

    # Find the rates of that the malware will propogate
    rate_info = tuple(inp1[-2].split())
    malware_size = inp1[-1]

    Population = Population(*rate_info, malware_size)

